CREATE TABLE t_sale (
   id_sale NUMBER(10,0)GENERATED BY DEFAULT ON NULL AS IDENTITY START WITH 100000,
   num VARCHAR2(30),
   dt DATE NOT NULL,
   id_client NUMBER(10,0) NOT NULL,
   e_state VARCHAR2(10) NOT NULL,
   discount NUMBER(8,6) DEFAULT 0,
   summa NUMBER(14,2),
   nds NUMBER(14,2),
   PRIMARY KEY (id_sale)
)
PARTITION BY RANGE (dt) INTERVAL(NUMTOYMINTERVAL(1, 'MONTH'))
   SUBPARTITION BY LIST (discount)
      SUBPARTITION TEMPLATE(
         SUBPARTITION no_discount_sales VALUES (0),
         SUBPARTITION small_discount_sales VALUES (5, 10, 15, 20),
         SUBPARTITION medium_discount_sales VALUES(25, 30, 35, 40),
         SUBPARTITION high_discount_sales VALUES (45, 50)
      )( 
   PARTITION p0 VALUES LESS THAN (DATE '2019-01-01'),
   PARTITION p1 VALUES LESS THAN (DATE '2019-02-01'),
   PARTITION p2 VALUES LESS THAN (DATE '2019-03-01'),
   PARTITION p3 VALUES LESS THAN (DATE '2019-04-01') 
);
