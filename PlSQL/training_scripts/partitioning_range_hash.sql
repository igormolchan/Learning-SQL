CREATE TABLE t_supply (
   id_supply NUMBER(10,0) GENERATED BY DEFAULT ON NULL AS IDENTITY START WITH 100000,
   code VARCHAR2(30 CHAR),
   num VARCHAR2(30 CHAR),
   dt DATE NOT NULL,
   id_supplier NUMBER(10,0) NOT NULL,
   e_state VARCHAR2(10) NOT NULL,
   summa NUMBER(14,2),
   nds NUMBER(14,2),
   PRIMARY KEY (id_supply)
)
PARTITION BY RANGE (dt)
   SUBPARTITION BY HASH(id_supply)
      SUBPARTITIONS 8 STORE IN (ts1, ts2, ts3, ts4)
(
   PARTITION supplies_part1 VALUES LESS THAN (DATE '2019-01-01') TABLESPACE sp1,
   PARTITION supplies_part2 VALUES LESS THAN (DATE '2019-02-01') TABLESPACE sp2,
   PARTITION supplies_part3 VALUES LESS THAN (DATE '2019-03-01') TABLESPACE sp3,
   PARTITION supplies_part4 VALUES LESS THAN (DATE '2019-04-01') TABLESPACE sp4,
   PARTITION supplies_part5 VALUES LESS THAN (MAXVALUE)          TABLESPACE sp5
);
